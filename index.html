<!DOCTYPE html>
<html>

<head>
    <title>This is the title of the webpage!</title>
    <link rel="stylesheet" href="style.css" />
</head>

<body>
    <div class = "container">
        <div class="header">
            <button onclick="selectSize()">Select Size</button>
            <select id = "select">
                <option value = "5">5X5</option>
                <option value = "7">7X7</option>
                <option value = "10">10X10</option>
            </select>
        </div>
        <div class = "game_area" id = "game_area">

        </div>
    </div>
    <script>
        
        const EMPTY_CELL = 0
        const WOLF = 1
        const FENCE = 2
        const HOUSE = 3
        const RABBIT = 4
       
       const gallery= new Array();

        gallery[1]="images/gamewolf.png";
        gallery[2]="images/ban.png";
        gallery[3]="images/home.png";
        gallery[4]="images/rabbit.png";

        function selectSize(){
            const gameAreaSize = document.getElementById("select").value
            const json = createGameArray(gameAreaSize)
            randomCharacters(json, gameAreaSize)
            
            eventListenersForRabbit(json)
            
            console.log(json)
       }

       function eventListenersForRabbit(array){
           document.addEventListener('keydown', moveRabbit(event))
       }

       function moveRabbit(event){
            console.log(event.key)
            if(event.key === 'ArrowDown'){
                
            }
       }

        function randomCharacters(json, gameAreaSize){
            const wolvesCount = gameAreaSize/100*60
            const fenceCount = gameAreaSize/100*40
            appendCharacters(json, WOLF, wolvesCount)
            appendCharacters(json, FENCE, fenceCount)
            appendCharacters(json, HOUSE, 1)
            appendCharacters(json, RABBIT, 1)
        }

        function createGameArray(gameAreaSize) {

            const value = parseInt(gameAreaSize);

            const gameCondition = new Array(value).fill(EMPTY_CELL).map(() => new Array(value).fill(EMPTY_CELL));
            
            return gameCondition
        }
        
        function appendEmptycell(cord, myArray, character){
            const x = cord[0]
            const y = cord[1]
            myArray[x][y] = character
        }

        function findEmptyCell(myArray){

            const randomX = Math.floor(Math.random() * myArray.length)
            const randomY = Math.floor(Math.random() * myArray.length)
            if(myArray[randomX][randomY] === EMPTY_CELL){
                return [randomX,randomY]
            } else {
                return findEmptyCell(myArray)
            }
        }
        
        function appendCharacters(myArray, character, count){
                for(let i = 0; i < count; i++){
                    let cords = findEmptyCell(myArray)
                    appendEmptycell(cords, myArray, character)
                }
                return myArray
        }

        function findRabbitCord(array){
            array.map((item, row)=>{
                    item.map((item, column)=>{
                        if(item == 4){
                            console.log(row, column)
                        }
                        
                    })
                })
        }
       
    </script>
</body>

</html>