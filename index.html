<!DOCTYPE html>
<html>

<head>
    <title>This is the title of the webpage!</title>
    <link rel="stylesheet" href="style.css" />
</head>

<body>
    <div class = "container">
        <div class="header">
            <button onclick="selectSize()">Select Size</button>
            <select id = "select">
                <option value = "5" data-width = "330">5X5</option>
                <option value = "7" data-width = "450">7X7</option>
                <option value = "10" data-width = "630">10X10</option>
            </select>
        </div>
        <div class = "game_area" id = "game_area">

        </div>
    </div>
    <script>
        
        const EMPTY_CELL = 0
        const WOLF = 1
        const FENCE = 2
        const HOUSE = 3
        const RABBIT = 4
       
       function selectSize(){
            const gameAreaSize = document.getElementById("select").value
            const el = document.getElementById("select")
            console.log(el.dataset.width)
            const json = createGameArray(gameAreaSize)
            
            randomFence(json, gameAreaSize)
            randomWolves(json, gameAreaSize)
            randomHouse(json)
            randomRabbit(json)
            console.log(json)
       }
       
       const gallery= new Array();

        gallery[1]="images/gamewolf.png";
        gallery[2]="images/ban.png";
        gallery[3]="images/home.png";
        gallery[4]="images/rabbit.png";


        function createGameArray(gameAreaSize) {

            const value = parseInt(gameAreaSize);

            const gameCondition = new Array(value).fill(EMPTY_CELL).map(() => new Array(value).fill(EMPTY_CELL));
            
            return gameCondition
        }
        
        

        function createGameArea(array, gameAreaSize){
            array.map((item)=>{
            item.map((item)=>{
                if(item === EMPTY_CELL){
                    createInnerDivs(gameAreaSize)
                }
            })
        })
        }
        

        function findEmptyCell(myArray, character){

            const randomX = Math.floor(Math.random() * myArray.length)
            const randomY = Math.floor(Math.random() * myArray.length)
            if(myArray[randomX][randomY] === EMPTY_CELL){
                myArray[randomX][randomY] = character
            } else {
                return findEmptyCell(myArray, character)
            }
        }

        function randomWolves(myArray, gameAreaSize){
            const wolvesCount = Math.floor((gameAreaSize*gameAreaSize)/100*15)
            
            for(let i = 0; i < wolvesCount; i++){
                findEmptyCell(myArray, WOLF)
            }
            return myArray
        }

        function randomFence(myArray, gameAreaSize){
            const fenceCount = Math.floor((gameAreaSize*gameAreaSize)/100*10)
            
            for(let i = 0; i < fenceCount; i++){
                findEmptyCell(myArray, FENCE)
            }
            return myArray
        }

        function randomHouse(myArray){
            findEmptyCell(myArray, HOUSE)
            return myArray
        }

        function randomRabbit(myArray){
            findEmptyCell(myArray, RABBIT)
            return myArray
        }

        function clearGameArea(){
            const containerNode = document.getElementById("game_area")
            containerNode.innerHTML = ''
        }

        function createInnerDivs(optionValue){
            
            
            const containerNode = document.getElementById("game_area")

            if(optionValue == 5){
                containerNode.style.width = "330px"
            }

            if(optionValue == 7){
                containerNode.style.width = "450px"
            }

            if(optionValue == 10){
                containerNode.style.width = "630px"
            }

            // containerNode.innerHTML = ''
            const div = document.createElement("div")
            containerNode.append(div)
                    
        }
    </script>
</body>

</html>